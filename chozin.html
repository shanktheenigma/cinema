<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="chozin.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Sansita:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <title>ShadowHeaven</title>
  </head>
  <body>
    <nav id="nav">
      <div class="nav-top">
        <div class="title-container">
          <a href="#" class="title"
            >Shadow<span style="color: white">Heaven</span></a
          >
        </div>
        <div class="navigation">
          <a href="#">Home</a>
          <a href="movie.html">Movies</a>
          <a href="offer.html">Offer</a>
          <a href="#">Contact</a>

          <div class="search-and-login-wrapper">
            <div class="search">
              <input type="text" class="search-input" placeholder="Search..." />
              <button class="clear-btn">&times;</button>
              <button class="search-button">Search</button>
            </div>
            <a href="login-form.html" class="log-in">Log in</a>
          </div>
          </div>
      </div>
    </nav>

    <section class="recently-added">
      <div class="recently-added-header">
        <a href="#" class="toptop">Recently Added Movies</a>
        <a href="#" class="view-more-link">View More →</a>
        <p></p>
      </div>
      <div class="movie-grid" id="movieGrid"></div>
    </section>

    <section class="recently-added">
      <div class="recently-added-header">
        <a href="#" class="toptop">Trending Movies</a> <a href="#" class="view-more-link">View More →</a>
        <p></p>
      </div>
      <div class="movie-grid" id="movieGrid2"></div>
    </section>

    <script>
      // Consolidated movie data (optional, but good practice if data is similar)
      const allMovies = [
        {
          title: "Plankton: The Movie",
          year: 2025,
          duration: "83 min",
          genre: "Adventure, Animation",
          rating: "7.1",
          poster:
            "https://th.bing.com/th/id/OIP.jwJsRNC-s2Lp0uYtwvJZawHaJQ?rs=1&pid=ImgDetMain",
          details:
            "SpongeBob SquarePants’ tiniest frenemy, Sheldon J. Plankton, is finally getting his close up. When Plankton’s latest evil scheme is thwarted, Bikini Bottom and the surface world become threatened by an unexpected danger. Now, before Plankton can take over the world, he’s going to have to save it.",
        },
        {
          title: "Chaos: The Manson Murders",
          year: 2025,
          duration: "96 min",
          genre: "Crime, Documentary",
          rating: "5.8",
          poster:
            "https://th.bing.com/th/id/OIP.q5rTom5zHClAcjekzDEWoQAAAA?rs=1&pid=ImgDetMain",
          details:
            "The Manson Murders is a chilling and thought-provoking documentary that delves deep into the dark legacy of Charles Manson and the 1969 Tate-LaBianca murders. Based on investigative journalist Tom O’Neill’s explosive book, the film challenges the official story told for decades — revealing shocking connections between Manson, law enforcement, and possible CIA mind control experiments. As new evidence emerges and interviews with key witnesses unfold, the film uncovers disturbing questions about corruption, manipulation, and the hidden history of the 1960s counterculture. More than just a true crime story, Chaos is a journey into the heart of American paranoia, secrecy, and institutional betrayal.",
        },
        {
          title: "Admission",
          year: 2013,
          duration: "107 min",
          genre: "Comedy, Drama",
          rating: "5.6",
          poster:
            "https://th.bing.com/th/id/OIP.sAV-sneJZHSlOD8owk_XJgAAAA?rs=1&pid=ImgDetMain",
          details:
            "Portia Nathan (Tina Fey), a highly disciplined Princeton admissions officer vying for a promotion, visits an alternative high school run by her old classmate John Pressman (Paul Rudd). There, she meets Jeremiah (Nat Wolff), a brilliant but unorthodox teen who might be the child she secretly gave up for adoption years ago. Taking a personal and professional risk, Portia seeks to get him accepted to Princeton, complicating her love life (her boyfriend Mark, played by Michael Sheen, breaks up with her) and career.",
        },
        {
          title: "How To Make Millions Before Grandma Dies",
          year: 2024,
          duration: "125 minutes",
          genre: "Comedy-Drama",
          rating: "8.0",
          poster:
            "https://th.bing.com/th/id/OIP.nnFjtDyPJf7qHLpUtfEZUgHaLF?rs=1&pid=ImgDetMain",
          details:
            "How to Make Millions Before Grandma Dies follows M, a college dropout who decides to care for his terminally ill grandmother, Amah, in hopes of inheriting her wealth. Encouraged by his mother who was once passed over for Amah’s inheritance M strategically moves in with his grandmother, faking compassion and concern. At first, his motives are purely selfish. But as M spends more time with Amah, witnessing her daily routines, stubborn pride, and quiet loneliness, his feelings start to shift. What begins as a cold-hearted plan turns into a journey of unexpected love and emotional growth. M slowly discovers the true meaning of family, sacrifice, and dignity, especially as Amah’s condition worsens. Tensions rise with relatives who also have their eyes on the inheritance, exposing family dysfunction and generational disconnects. Ultimately, M is forced to choose between material gain and genuine human connection with a bittersweet twist that tests his conscience and transforms him forever.",
        },
        {
          title: "Paddington",
          year: 2014,
          duration: "95 min",
          genre: "Adventure, Comedy, Family",
          rating: "7.2",
          poster:
            "https://th.bing.com/th/id/OIP.x4ClmDelKu2if1J31A1UzgHaKo?rs=1&pid=ImgDetMain",
          details:
            "Paddington tells the heartwarming story of a young, talking bear from the jungles of Peru who travels to London in search of a new home. After an earthquake destroys his forest habitat, his Aunt Lucy sends him to England with the hope of a better life. Wearing a red hat and a tag that reads <Please look after this bear. Thank you,> he arrives at Paddington Station, where he's discovered by the kind-hearted Brown family. They take him in and name him Paddington, after the station. But life in the big city isn't easy. As Paddington adjusts to his new surroundings with his usual clumsy but charming antics he catches the attention of Millicent Clyde, a sinister taxidermist at the Natural History Museum who wants to add him to her collection. As the Browns race to protect their new furry friend, Paddington slowly proves that kindness, family, and a jar of marmalade can go a long way even in a city full of strangers.",
        },
        // Duplicate entries from your original HTML are kept for now
        {
          title: "Plankton: The Movie",
          year: 2025,
          duration: "83 min",
          genre: "Adventure, Animation",
          rating: "7.1",
          poster:
            "https://th.bing.com/th/id/OIP.jwJsRNC-s2Lp0uYtwvJZawHaJQ?rs=1&pid=ImgDetMain",
          details:
            "SpongeBob SquarePants’ tiniest frenemy, Sheldon J. Plankton, is finally getting his close up. When Plankton’s latest evil scheme is thwarted, Bikini Bottom and the surface world become threatened by an unexpected danger. Now, before Plankton can take over the world, he’s going to have to save it.",
        },
        {
          title: "Paddington",
          year: 2014,
          duration: "95 min",
          genre: "Adventure, Comedy, Family",
          rating: "7.2",
          poster:
            "https://th.bing.com/th/id/OIP.x4ClmDelKu2if1J31A1UzgHaKo?rs=1&pid=ImgDetMain",
          details:
            "Paddington tells the heartwarming story of a young, talking bear from the jungles of Peru who travels to London in search of a new home. After an earthquake destroys his forest habitat, his Aunt Lucy sends him to England with the hope of a better life. Wearing a red hat and a tag that reads <Please look after this bear. Thank you,> he arrives at Paddington Station, where he's discovered by the kind-hearted Brown family. They take him in and name him Paddington, after the station. But life in the big city isn't easy. As Paddington adjusts to his new surroundings with his usual clumsy but charming antics he catches the attention of Millicent Clyde, a sinister taxidermist at the Natural History Museum who wants to add him to her collection. As the Browns race to protect their new furry friend, Paddington slowly proves that kindness, family, and a jar of marmalade can go a long way even in a city full of strangers.",
        },
      ];

      // Separate arrays for each grid if desired, or filter from allMovies
      const moviesGrid1 = [...allMovies]; // Or a subset if different content is intended
      const moviesGrid2 = [...allMovies]; // Or a subset if different content is intended

      let currentIndex1 = 0;
      let currentIndex2 = 0;
      const moviesPerLoad = 7;

      function displayMovies(targetGridId, moviesArray, startIndex, count) {
        const movieGrid = document.getElementById(targetGridId);
        const endIndex = Math.min(startIndex + count, moviesArray.length);

        for (let i = startIndex; i < endIndex; i++) {
          const movie = moviesArray[i];
          const card = document.createElement("div");
          card.className = "movie-card";

          card.innerHTML = `
            <a href="movie.html?title=${encodeURIComponent(
              movie.title
            )}&year=${movie.year}&duration=${encodeURIComponent(
            movie.duration
          )}&genre=${encodeURIComponent(movie.genre)}&rating=${
            movie.rating
          }&poster=${encodeURIComponent(movie.poster)}&details=${encodeURIComponent(
            movie.details
          )}" class="movie-link">
              <img src="${movie.poster}" alt="${movie.title}" class="movie-poster">
              <div class="movie-info">
                <h3 class="movie-title">${movie.title}</h3>
                <p class="movie-meta">${movie.year} • ${movie.duration}</p>
                <p class="movie-meta">${movie.genre}</p>
                <p class="movie-meta">Rating: ${movie.rating}</p>
              </div>
            </a>
          `;
          movieGrid.appendChild(card);
        }

        // Return the new current index for the specific grid
        return endIndex;
      }

      document.addEventListener("DOMContentLoaded", () => {
        currentIndex1 = displayMovies("movieGrid", moviesGrid1, currentIndex1, moviesPerLoad);
        currentIndex2 = displayMovies("movieGrid2", moviesGrid2, currentIndex2, moviesPerLoad);

        // If you add "View More" buttons, you'd add listeners here:
        // const viewMoreBtn1 = document.getElementById("viewMoreBtn1");
        // if (viewMoreBtn1) {
        //   viewMoreBtn1.addEventListener("click", () => {
        //     currentIndex1 = displayMovies("movieGrid", moviesGrid1, currentIndex1, moviesPerLoad);
        //     if (currentIndex1 >= moviesGrid1.length) { viewMoreBtn1.style.display = "none"; }
        //   });
        // }
        // ... similarly for viewMoreBtn2
      });
    </script>

    <div class="filter-container" id="filterList">
      <button class="filter-button">All</button>
      <button class="filter-button">#</button>
      <button class="filter-button">0–9</button>
      <script>
        const container = document.getElementById("filterList");
        for (let i = 65; i <= 90; i++) {
          const btn = document.createElement("button");
          btn.className = "filter-button";
          btn.textContent = String.fromCharCode(i);
          container.appendChild(btn);
        }

        // This event listener should be outside the loop if it's for the whole container
        container.addEventListener("click", (e) => {
          if (e.target.classList.contains("filter-button")) {
            [...container.children].forEach((btn) =>
              btn.classList.remove("active")
            );
            e.target.classList.add("active");
          }
          console.log(); // Consider adding a meaningful message or action here
        });
      </script>
    </div>

    <script>
      // This function seems related to an offcanvas menu that's not fully in the HTML.
      // Keeping it for completeness but might need adjustments if the menu isn't there.
      function toggleOffcanvas() {
        const menu = document.getElementById("menu");
        const offcanvas = document.getElementById("offcanvasMenu");

        if (offcanvas) { // Check if offcanvas exists
          offcanvas.classList.toggle("active");

          if (menu) { // Check if menu exists
            if (offcanvas.classList.contains("active")) {
              menu.innerText = "Close";
            } else {
              menu.innerText = "Menu";
            }
          }
        }
      }
    </script>
  </body>
</html>